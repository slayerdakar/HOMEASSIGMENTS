<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task 9</title>
</head>

<body>

  <h1>Задача 9</h1>

  <div style="margin-bottom: 50px;">
    <p>
      Морський бій. Користувач вводить кількість клітинок одновимірного масиву та кількість одиночних кораблів.
      Комп’ютер довільно розміщує ці одиночні кораблі у масиві по один у клітинці (якщо у клітинці 0, то клітинка пуста,
      якщо 1 – то це означає, що там є корабель. Користувач вводить номер клітинки, куди стріляє. Гра продовжується до
      тих пір, поки не будуть потоплені усі кораблі.
    </p>
  </div>

  <script>

    function playingFieldWithShips(fieldSize, numberOfShips) {
      let playingFiel = []
      let count = numberOfShips
      for (let index = 0; index < fieldSize; index++) {
        playingFiel.push(0);
      }
      do {
        let numberRandomPosShip = Math.floor(Math.random() * fieldSize)
        if (playingFiel[numberRandomPosShip] !== 1) {
          playingFiel[numberRandomPosShip] = 1
          count -= 1
        }
      } while (count > 0);
      return playingFiel
    }

    function playGame(fieldSize, numberOfShips) {
      let playingField = playingFieldWithShips(fieldSize, numberOfShips)
      let shipsLeftOnTheField = numberOfShips
      do {
        const shot = parseInt(prompt(`Зробіть постріл від 1 до ${numberOfFieldCells}`))
        if (playingField[shot - 1] === 1) {
          alert('Корабель знищений.')
          playingField[shot - 1] = 0
          shipsLeftOnTheField -= 1
        }
        else if (shot < 1 || shot > numberOfFieldCells) alert('Зробіть постріл в межах ігрового поля!')
        else alert('Промах.')
      } while (shipsLeftOnTheField > 0)
      document.write('Гра завершена. Всі кораблі знищені.')
    }


    const numberOfFieldCells = parseInt(prompt('Введіть к-сть клітинок поля:'))
    const numberOfShips = parseInt(prompt('Введіть к-сть одиночних кораблів:'))

    if (numberOfFieldCells >= numberOfShips && numberOfFieldCells > 0 && numberOfShips > 0) playGame(numberOfFieldCells, numberOfShips)
    else alert('Введені не коректні значення!')





  </script>

</body>

</html>